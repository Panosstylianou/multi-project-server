version: '3.8'

# Local development override to avoid port conflicts
# Usage: docker-compose -f docker-compose.yml -f docker-compose.local.yml up -d

services:
  manager:
    ports:
      - "3001:3000"  # Use 3001 locally instead of 3000
    environment:
      - NODE_ENV=development
      - API_KEY=dev-api-key

  traefik:
    ports:
      - "8081:8080"  # Use 8081 locally instead of 8080
    command:
      - "--api.dashboard=true"
      - "--api.insecure=true"
      - "--providers.docker=true"
      - "--providers.docker.exposedbydefault=false"
      - "--providers.docker.network=pocketbase-network"
      - "--entrypoints.web.address=:80"
      - "--entrypoints.websecure.address=:443"
      - "--log.level=DEBUG"

